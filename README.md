# üìä –ê–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∞—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã—Ö –∞–∫—Ç–∏–≤–æ–≤
### –ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è:
https://drive.google.com/file/d/1SGnPhkjM7UIlnekADRUnEDdnCE1P_c-X/view?usp=share_link
## 1. –û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

–¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞ ‚Äî –ø–æ—Å—Ç—Ä–æ–∏—Ç—å –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫—É—é –ø–ª–∞—Ç—Ñ–æ—Ä–º—É –ø–æ–ª–Ω–æ–≥–æ —Ü–∏–∫–ª–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–º–∏ –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ —Ä—è–¥–∞–º–∏ (–∞–∫—Ü–∏–∏ –∏ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—ã):  
–æ—Ç **—Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö** –∏ **–ø—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∏** –¥–æ **–∞–Ω–∞–ª–∏–∑–∞**, **–≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏**, **–∫–æ–Ω—Ç—Ä–æ–ª—è –∫–∞—á–µ—Å—Ç–≤–∞ –¥–∞–Ω–Ω—ã—Ö** –∏ **–∑–∞–≥—Ä—É–∑–∫–∏ –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö**.

–ü—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç —Ç–∏–ø–∏—á–Ω—ã–π data engineering + analytics pipeline –∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –∫–∞–∫ –æ—Å–Ω–æ–≤–∞ –¥–ª—è:
- –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞,
- —Ä–∏—Å–∫-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç–∞,
- –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏ –∏ –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–π,
- –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—Ç—á—ë—Ç–æ–≤.

---

## 2. –í—ã–±—Ä–∞–Ω–Ω—ã–π –¥–æ–º–µ–Ω –∏ –±–∏–∑–Ω–µ—Å-–∑–∞–¥–∞—á–∞

**–î–æ–º–µ–Ω:** —Ñ–∏–Ω–∞–Ω—Å—ã / –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞  
**–û–±—ä–µ–∫—Ç—ã –∞–Ω–∞–ª–∏–∑–∞:**  
- –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—ã (CoinGecko),
- –∞–∫—Ü–∏–∏ (Yahoo Finance).

**–ë–∏–∑–Ω–µ—Å-–∑–∞–¥–∞—á–∏:**
- –æ—Ü–µ–Ω–∫–∞ –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏ –∏ —Ä–∏—Å–∫–∞ –∞–∫—Ç–∏–≤–æ–≤;
- —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏ –∞–∫—Ü–∏–π –∏ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç;
- –≤—ã—è–≤–ª–µ–Ω–∏–µ –Ω–∞–∏–±–æ–ª–µ–µ —Ä–∏—Å–∫–æ–≤–∞–Ω–Ω—ã—Ö –∏ –¥–æ—Ö–æ–¥–Ω—ã—Ö –∞–∫—Ç–∏–≤–æ–≤;
- –∞–Ω–∞–ª–∏–∑ –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–π –º–µ–∂–¥—É –∞–∫—Ç–∏–≤–∞–º–∏;
- –∫–æ–Ω—Ç—Ä–æ–ª—å –∫–∞—á–µ—Å—Ç–≤–∞ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ä—è–¥–æ–≤ –ø–µ—Ä–µ–¥ –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π.

---

## 3. –°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö (`collect_data.py`)

### –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö
- **–ö—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—ã:** CoinGecko API (–±–µ–∑ API-–∫–ª—é—á–∞)
- **–ê–∫—Ü–∏–∏:** Yahoo Finance (—á–µ—Ä–µ–∑ `yfinance`)

### –õ–æ–≥–∏–∫–∞
- –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è **top N –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç –ø–æ market cap**;
- –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∞—è —Ü–µ–Ω–∞ –∑–∞ –∑–∞–¥–∞–Ω–Ω—ã–π –ø–µ—Ä–∏–æ–¥;
- –∞–∫—Ü–∏–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –ø–æ —Å–ø–∏—Å–∫—É —Ç–∏–∫–µ—Ä–æ–≤;
- –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤:
data/raw/crypto/
data/raw/stocks/


## 4. –ü—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö (`preprocessing.py`)

### –ß—Ç–æ –¥–µ–ª–∞–µ—Ç—Å—è
- —É—Å—Ç–æ–π—á–∏–≤–æ–µ —á—Ç–µ–Ω–∏–µ CSV (–≤–∫–ª—é—á–∞—è ¬´–≥—Ä—è–∑–Ω—ã–µ¬ª —Ñ–∞–π–ª—ã –æ—Ç yfinance);
- –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ –¥–∞—Ç –∫ UTC;
- –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ü–µ–Ω–æ–≤–æ–π –∫–æ–ª–æ–Ω–∫–∏;
- –æ—á–∏—Å—Ç–∫–∞ NaN –∏ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π;
- —Ä–∞—Å—á—ë—Ç:
- `return` ‚Äî –¥–Ω–µ–≤–Ω–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å,
- `log_return` ‚Äî –ª–æ–≥-–¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å,
- `volatility_20` ‚Äî 20-–¥–Ω–µ–≤–Ω–∞—è —Å–∫–æ–ª—å–∑—è—â–∞—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å.

### –†–µ–∑—É–ª—å—Ç–∞—Ç
–û—á–∏—â–µ–Ω–Ω—ã–µ –∏ –æ–±–æ–≥–∞—â—ë–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤:
data/processed/crypto/
data/processed/stocks/


---

## 5. –ü–µ—Ä–µ—Å—á—ë—Ç –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏ (`recompute_volatility.py`)

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è:
- —É–Ω–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Ä–∞—Å—á—ë—Ç–∞ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏,
- –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–ª—É—á–∞–µ–≤, –∫–æ–≥–¥–∞ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∏–ª–∏ —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–∞ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ.

–ü–µ—Ä–µ—Å—á—ë—Ç:
- –ø–æ –ª–æ–≥-–¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—è–º,
- —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –æ–∫–Ω–∞ –∏ `ddof`.

---

## 6. –ê–Ω–∞–ª–∏–∑ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è

### 6.1 Price + Volatility (`plots_pricevol.py`)

–î–ª—è **—Ç–æ–ø-10 –∞–∫—Ç–∏–≤–æ–≤ –ø–æ –≥–æ–¥–æ–≤–æ–π –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏**:
- –≥—Ä–∞—Ñ–∏–∫ —Ü–µ–Ω—ã + MA(20),
- –≥—Ä–∞—Ñ–∏–∫ 20-–¥–Ω–µ–≤–Ω–æ–π –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏.

–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:
reports/figures/
reports/tables/annualized_volatility.csv

---

### 6.2 –ö–æ—Ä—Ä–µ–ª—è—Ü–∏–æ–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑ (`plots_corr_heatmaps.py`)

–ß—Ç–æ —Å—á–∏—Ç–∞–µ—Ç—Å—è:
- –º–∞—Ç—Ä–∏—Ü–∞ –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–π –ª–æ–≥-–¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–µ–π –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–æ–≤;
- –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–∏ –¥–ª—è **—Ç–æ–ø-N –∞–∫—Ç–∏–≤–æ–≤ –ø–æ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏**.

–ß—Ç–æ —Å—Ç—Ä–æ–∏—Ç—Å—è:
- —Ç–µ–ø–ª–æ–≤—ã–µ –∫–∞—Ä—Ç—ã –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–π;
- CSV-—Ñ–∞–π–ª—ã —Å –º–∞—Ç—Ä–∏—Ü–∞–º–∏ –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–π.

–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:
reports/figures_cor/
reports/tables_cor/


---

### 6.3 –ê–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑ (`aggregate_analysis.py`)

- –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –≤—Å–µ –∞–∫—Ç–∏–≤—ã;
- —Å—á–∏—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–∏ –∏ –≥–æ–¥–æ–≤—É—é –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å;
- —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–∞–±–ª–∏—Ü—ã.

---

### 6.4 –ú–µ—Ç—Ä–∏–∫–∏ –∞–∫—Ç–∏–≤–æ–≤ (`summary_metrics.py`)

–î–ª—è –∫–∞–∂–¥–æ–≥–æ –∞–∫—Ç–∏–≤–∞ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—é—Ç—Å—è:
- –≥–æ–¥–æ–≤–∞—è –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç—å;
- –≥–æ–¥–æ–≤–∞—è –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç—å;
- –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –ø—Ä–æ—Å–∞–¥–∫–∞ (max drawdown);
- –∞—Å–∏–º–º–µ—Ç—Ä–∏—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è (skewness).

–†–µ–∑—É–ª—å—Ç–∞—Ç:
reports/tables/summary_metrics.csv


---

### 6.5 –¢–æ–ø-10 –∞–∫—Ç–∏–≤–æ–≤ (`top_return.py`)

–ù–∞ –æ—Å–Ω–æ–≤–µ `summary_metrics.csv`:
- —Ç–æ–ø-10 –ø–æ –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏;
- —Ç–æ–ø-10 –ø–æ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏;
- –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–µ bar chart.

–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:
reports/tables_top10/
reports/figures_top10/


---

### 6.6 –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –≥—Ä–∞—Ñ–∏–∫–∏ (`plot_single.py`)

–î–ª—è **–∫–∞–∂–¥–æ–≥–æ –∞–∫—Ç–∏–≤–∞**:
- –æ—Ç–¥–µ–ª—å–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫ —Ü–µ–Ω—ã;
- –æ—Ç–¥–µ–ª—å–Ω—ã–π –≥—Ä–∞—Ñ–∏–∫ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏.

–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:
reports/figures_plot_single/


---

## 7. –ö–æ–Ω—Ç—Ä–æ–ª—å –∫–∞—á–µ—Å—Ç–≤–∞ –¥–∞–Ω–Ω—ã—Ö (`data_quality.py`)

### –ü—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ —Ñ–∞–π–ª–æ–≤
- –¥—É–±–ª–∏–∫–∞—Ç—ã –¥–∞—Ç;
- –¥–æ–ª—è –ø—Ä–æ–ø—É—Å–∫–æ–≤;
- –∫–æ—Ä–æ—Ç–∫–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä—è–¥—ã;
- –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏;
- —á–∞—Å—Ç–æ—Ç–∞ –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —Ä—è–¥–∞.

### –ü—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ —É—Ä–æ–≤–Ω–µ –ë–î (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- –ø—Ä–æ–ø—É—Å–∫–∏ –≤ –∫–ª—é—á–µ–≤—ã—Ö –ø–æ–ª—è—Ö;
- –¥—É–±–ª–∏–∫–∞—Ç—ã `(asset, timestamp)`.

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã
- CSV-–æ—Ç—á—ë—Ç—ã;
- Markdown-–æ—Ç—á—ë—Ç:

---

## 8. –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ –ë–î (`load_to_db.py`)

- PostgreSQL;
- —Ç–∞–±–ª–∏—Ü–∞ `asset_prices`;
- –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –∫–æ–ª–æ–Ω–æ–∫;
- –∑–∞—â–∏—Ç–∞ –æ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö –ø–æ–ª–µ–π.

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è SQLAlchemy.

---

## 9. –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–æ–µ–∫—Ç
### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è (MacOS)
``` 
python -m venv .venv 
```
```
source .venv/bin/activate 
```   
#### Windows: 
```
.venv\Scripts\activate
```
### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```
pip install -r requirements.txt
```
### –î–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –≤ –±–¥
```
docker-compose up -d
```
### –ü–æ—Ä—è–¥–æ–∫ —Ä–∞–±–æ—Ç—ã (pipeline)
#### –°–±–æ—Ä "raw" –¥–∞–Ω–Ω—ã—Ö
``` 
python3 src/collect_data.py 
```
CSV —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ data/raw/crypto/ –∏ data/raw/stocks/.
#### –ü—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞
```
python3 src/preprocessing.py
```
–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ CSV —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ data/processed/crypto/ –∏ data/processed/stocks/.
#### (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –ü–µ—Ä–µ—Å—á—ë—Ç –≤–æ–ª–∞—Ç–∏–ª—å–Ω–æ—Å—Ç–∏
```
python3 src/recompute_volatility.py
```
–æ–±–Ω–æ–≤–ª—è–µ—Ç volatility_20 –≤ data/processed/*.
#### –ê–≥—Ä–µ–≥–∞—Ü–∏—è/–º–µ—Ç—Ä–∏–∫–∏
```
python3 src/scripts/summary_metrics.py
```
reports/tables/summary_metrics.csv
```
python3 src/scripts/top_return.py
```
src/reports/tables_top10/ –∏ src/reports/figures_top10/
```
python3 src/plots_pricevol.py
```
reports/tables/annualized_volatility.csv –∏ reports/figures/ –¥–ª—è top-N
```
python3 src/plots_corr_heatmaps.py
```
src/reports/tables_cor/ –∏ src/reports/figures_cor/
#### Data Quality
```
python3 src/data_quality.py
```
src/reports/tables/data_quality_* –∏ src/reports/tables/data_quality_summary.md
#### –ó–∞–≥—Ä—É–∑–∫–∞ –≤ –ë–î
–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å DATABASE_URL –≤ –æ–∫—Ä—É–∂–µ–Ω–∏–∏ (–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å docker-compose DB) –∏:
```
python3 src/load_to_db.py
```
#### Streamlit UI
```
streamlit run app.py
```
‚Äî –∑–∞–ø—É—Å–∫–∞–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è/–ø—Ä–æ—Å–º–æ—Ç—Ä–∞.
